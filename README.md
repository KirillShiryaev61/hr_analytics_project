# Проект: Анализ удовлетворённости и оттока сотрудников

## Описание проекта:

HR-аналитики компании «Работа с заботой» помогают бизнесу оптимизировать управление персоналом: бизнес предоставляет данные, а аналитики предлагают, как избежать финансовых потерь и оттока сотрудников. 

Компания предоставила данные с характеристиками сотрудников компании. Среди них — уровень удовлетворённости сотрудника работой в компании. Эту информацию получили из форм обратной связи: сотрудники заполняют тест-опросник, и по его результатам рассчитывается доля их удовлетворённости от **0** до **1**, где **0** — совершенно неудовлетворён, **1** — полностью удовлетворён.

Удовлетворённость работой напрямую влияет на отток сотрудников. А предсказание оттока — одна из важнейших задач HR-аналитиков. Внезапные увольнения несут в себе риски для компании, особенно если уходит важный сотрудник.

### Цель проекта:

1. Построить модель, которая сможет предсказать уровень удовлетворённости сотрудника на основе данных заказчика.

   * Критерий успеха: **SMAPE ≤ 15** на тестовой выборке.
   
   
2. Построить модель, которая сможет на основе данных заказчика предсказать то, что сотрудник уволится из компании.

   * Критерий успеха: **ROC-AUC ≥ 0.91** на тестовой выборке.

### Описание данных:

Набор признаков для 1 и 2 задач индентичны, поэтому описаны единожды после названий файлов.

**Задача 1: предсказание уровня удовлетворённости сотрудника**

* Тренировочная выборка: **train_job_satisfaction_rate.csv**
* Входные признаки тестовой выборки: **test_features_1.csv**
* Целевой признак тестовой выборки: **test_target_job_satisfaction_rate.csv**

**Описание признаков:**

* **id** — уникальный идентификатор сотрудника;
* **dept** — отдел, в котором работает сотрудник;
* **level** — уровень занимаемой должности;
* **workload** — уровень загруженности сотрудника;
* **employment_years** — длительность работы в компании (в годах);
* **last_year_promo** — показывает, было ли повышение за последний год;
* **last_year_violations** — показывает, нарушал ли сотрудник трудовой договор за последний год;
* **supervisor_evaluation** — оценка качества работы сотрудника, которую дал руководитель;
* **salary** — ежемесячная зарплата сотрудника;
* **job_satisfaction_rate** — уровень удовлетворённости сотрудника работой в компании (целевой признак).

**Задача 2: предсказание увольнения сотрудника из компании**

* Тренировочная выборка: **train_quit.csv**
* Входные признаки тестовой выборки: **test_features_2.csv**
* Целевой признак тестовой выборки: **test_target_quit.csv**

**Описание признаков:**

* **id** — уникальный идентификатор сотрудника;
* **dept** — отдел, в котором работает сотрудник;
* **level** — уровень занимаемой должности;
* **workload** — уровень загруженности сотрудника;
* **employment_years** — длительность работы в компании (в годах);
* **last_year_promo** — показывает, было ли повышение за последний год;
* **last_year_violations** — показывает, нарушал ли сотрудник трудовой договор за последний год;
* **supervisor_evaluation** — оценка качества работы сотрудника, которую дал руководитель;
* **salary** — ежемесячная зарплата сотрудника;
* **quit** — увольнение сотрудника из компании (целевой признак).

### Ход исследования:

**Задача 1: предсказание уровня удовлетворённости сотрудника**

* **Подготовка данных**: загрузка и изучение общей информации из представленных датасетов.
* **Предобработка данных**: обработка пропущенных значений, корректировка типов данных, дубликатов и других аномалий.
* **Исследовательский анализ данных**: изучение признаков имеющихся в датасетах, их распределение, поиск выбросов/аномалий в данных.
* **Корреляционный анализ**: изучение взимосвязей между входными признаками и целевыми, а также и между ними.
* **Использование пайплайнов**: написание пайплайнов для подготовки данных и обучения модели для упрощения и ускорения поиска лучшей модели и ее гиперпараметров.
* **Поиск лучшей модели**: использование автоматического поиска лучшей модели и ее гиперпараметров с помощью **RandomSearchCV**.
* **Анализ важности признаков**: анализ степени важности признков их влияния на принятие решений моделью с помощью метода **SHAP**.
* **Промежуточный вывод**: резюмирование полученных результатов.

**Задача 2: предсказание увольнения сотрудника из компании**

* **Подготовка данных**: загрузка и изучение общей информации из представленных датасетов.
* **Предобработка данных**: обработка пропущенных значений, корректировка типов данных, дубликатов и других аномалий.
* **Исследовательский анализ данных**: изучение признаков имеющихся в датасетах, их распределение, поиск выбросов/аномалий в данных, построение портрета "уволившегося сотрудника", исследование взаимосвязи признаков удовлетворенности работой в компании и вероятности ее покинуть.
* **Корреляционный анализ**: изучение взимосвязей между входными признаками и целевыми, а также и между ними.
* **Использование пайплайнов**: написание пайплайнов для подготовки данных и обучения модели для упрощения и ускорения поиска лучшей модели и ее гиперпараметров.
* **Поиск лучшей модели**: использование автоматического поиска лучшей модели и ее гиперпараметров с помощью **RandomSearchCV**.
* **Анализ важности признаков**: анализ степени важности признков их влияния на принятие решений моделью с помощью метода **SHAP**.
* **Промежуточный вывод**: резюмирование полученных результатов.

**Общий вывод**: резюмирование полученных результатов, формулировка ключевых выводов и рекомендаций.

### Результаты работы:

Разработаны две высокоточные модели машинного обучения для HR-аналитики:

**Модель предсказания удовлетворённости сотрудников:**

* Использована модель: ***RandomForestRegressor***
* Достигнуто значение ***SMAPE*** = 12.34 (цель: ≤ 15)
* Коэффициент детерминации ***R²*** = 0.91
* Ключевой признак: оценка руководителя

**Модель предсказания увольнения сотрудников:**

* Использована модель: ***RandomForestClassifier***
* Достигнуто значение ***ROC-AUC*** = 0.926 (цель: ≥ 0.91)
* Точность (***Accuracy***): 90%, полнота и точность (***Precision/Recall***): 83%
* Построен портрет **"рискового сотрудника"**: junior, low workload, без повышения, с нарушениями, зарплата 12–30 тыс.

Обе модели прошли интерпретацию с помощью ***SHAP***, выявлены ключевые факторы оттока и недовольства. На основе анализа предложены конкретные рекомендации по удержанию персонала, особенно среди молодых специалистов.

Проект полностью автоматизирован с использованием пайплайнов (***Pipeline***) обеспечивает воспроизводимость и готов к внедрению в бизнес-процессы HR-отдела.

### Дополнительные предложения для бизнеса:

Одна из ключевых проблем бизнеса это огромная текучесть кадров уровня **Junior**. Если нам удасться справится с этой проблемой мы сможем снизить нагрузку с сотрудников **Middle** и **Senior**, что увеличит показатели их удовлетворенности местом работы. 

Ниже несколько рекомендаций по решений данной проблемы: 

* Необходимо пересмотреть подход по оценке работы сотрудника руководителем, данный показатель сильно демотивирует сотрудников, оттуда и нежелание работать в компании.

* У сотрудников наблюдается дисбаланс в нагрузке, сотрудники с низкой и высокой нагрузкой более склонны к уволнению, необходимо сбалансировать данный уровень.

* Пересмотреть стратегию мотивации сотрудников, направить фокус на рост в компании, процент сотрудников получивших повышение за последний год крайне мал, юные сотрудники которые стремятся к росту и повышению зарплаты не могут пробиться и дойдя до определенного уровня усталости уходят. Другими словами хотя бы небольшой рост в должностных обязанностях и заработной плате будет удерживать сотрудников.

* После проведение изменений описаных выше и отследив в статистике снижение текучести молодых кадров можно будет рассмотреть возможность поднятия уровня заработной платы для сотрудников уровня **Junior**, до уровня минимального уровня **30000**, что еще крепче будет удерживать молодых сотрудников и стараться на своем рабочем месте.

**Технологии:**

* **Data Processing**: numpy, pandas;
* **Visualization**: matplotlib, seaborn;
* **ML & Preprocessing**: scikit-learn (масштабирование, кодирование, Pipeline, ColumnTransformer, модели, метрики);
* **Statistical Analysis**: scipy, statsmodels (VIF, тесты нормальности);
* **Correlation Analysis**: phik — для анализа связей между числовыми и категориальными признаками;
* **Model Interpretation**: shap — объяснение предсказаний моделей.